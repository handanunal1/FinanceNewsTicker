@page
@model IndexModel
@{
    ViewData["Title"] = "Home page";

    var nextOffset = @Model.news.Pagination.Count + @Model.news.Pagination.Offset;

    <table class="table">
      <thead>
      <tr>
      <th>Date</th>
      <th>Source</th>
      <th>News Article</th>
      </tr>
      </thead>
      <tbody>
            @foreach(var article in Model.news.Data)
            {
                <tr>
                  <td>@article.PublishedAt.ToShortDateString()
                  <br>
                    @article.PublishedAt.TimeOfDay
                  </td>
                  <td>
                   @article.Source
                  </td>
                  <td>
                  <a href="@article.Url">@article.Title</a> 
                  </td>
                </tr>
            }
        </tbody>
    </table>
    <a asp-page-handler="LoadMoreNews" asp-route-offset="@nextOffset" class="btn btn-secondary btn-lg">Load More</a>


}

